// Generated by CoffeeScript 1.10.0
var find_at_sign, is_empty;

is_empty = function() {
  return $("#tags").val().replace(/\s/g, '').length === 0;
};

find_at_sign = function() {
  var id;
  if ($("#tags").val().split('').pop() === "@") {
    console.log($("#tags").val().split(''));
    id = $("#tags").data("article-id");
    return $("#tags").autocomplete({
      source: '/articles/' + id + '/autocomplete.json',
      minLength: 1,
      focus: function(event) {
        return event.preventDefault();
      },
      select: function(event, ui) {
        event.preventDefault();
        return this.value = this.value.replace(/@(\w*)$/, "@" + ui.item.value);
      }
    });
  }
};

$(function() {
  return $(document).on("input", "#tags", function() {
    return find_at_sign();
  });
});
